<div class="background">
<div class="row justify-content-center">
        <div class="text-center" id="TitleHL"><b>{{movie?.name}}</b></div> 
</div>
<div  id="ContainerHL">  
    <div id="MainPoster">   
      <img [src]=movie?.imageUrl height=280 width=200/>
        <div id="Ratings">
          <table>
            <tr>
              <td><b><span style="color:rgb(200,170,30);">Rating:</span></b></td>
            </tr>
            <tr>
                <td><b>Watch here:</b></td>
                <td>
                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e3/Amazon_Prime_Logo.svg/2560px-Amazon_Prime_Logo.svg.png" height=50 width=50/>
                </td>
            </tr>
          </table>
 
   </div>
   </div>
 
    
 </div>
 <div id="SelMovie">
   <div id="MovieInfoMain">
     <p class="movie-desc">{{movie?.description}}</p>       
     <div id="DetailsTop">{{movie?.description}}</div>
     <div id="DetailsTopCover"></div>
     <div id="DetailsBottom"></div>
     <div id="DetailsBottomCover"></div>
     <div id="Details">
         
      <table>
        <tr><td class="Key">Genre</td><td class="Value">{{movie?.genre}}</td></tr>       
        <tr><td class="Key">Released</td><td class="Value">{{movie?.releaseYear}}</td></tr>
        <tr><td class="Key">Director</td><td class="Value">{{movie?.director}}</td></tr>
        <tr><td class="Key">Language</td><td class="Value">{{movie?.language}}</td></tr>
        <tr><td class="Key">Cast</td><td class="Value">
            <div *ngFor="let actor of castArray" >
                <a class="cast-mem" [routerLink]="['/actor',actor.id]">{{actor?.name}}</a>
            </div>
        </td></tr>
        </table>
     </div> 
   
   </div>
 </div>  

<br/><br/> <br/>

<div class="container-fluid px-1 py-5 mx-auto">
  <div class="row justify-content-center">
      <div class="col-xl-7 col-lg-8 col-md-10 col-12 text-center mb-5">
          <div class="card">
              <div class="row justify-content-left d-flex">
                  <div class="col-md-4 d-flex flex-column">
                      <div class="rating-box">
                          <h1 class="pt-4">4.0</h1>
                          <p class="">out of 5</p>
                      </div>
                      <div> <span class="fa fa-star star-active mx-1"></span> <span class="fa fa-star star-active mx-1"></span> <span class="fa fa-star star-active mx-1"></span> <span class="fa fa-star star-active mx-1"></span> <span class="fa fa-star star-inactive mx-1"></span> </div>
                  </div>
                  <div class="col-md-8">
                      <div class="rating-bar0 justify-content-center">
                          <table class="text-left mx-auto">
                              <tr>
                                  <td class="rating-label">Excellent</td>
                                  <td class="rating-bar">
                                      <div class="bar-container">
                                          <div class="bar-5"></div>
                                      </div>
                                  </td>
                                  <td class="text-right">123</td>
                              </tr>
                              <tr>
                                  <td class="rating-label">Good</td>
                                  <td class="rating-bar">
                                      <div class="bar-container">
                                          <div class="bar-4"></div>
                                      </div>
                                  </td>
                                  <td class="text-right">23</td>
                              </tr>
                              <tr>
                                  <td class="rating-label">Average</td>
                                  <td class="rating-bar">
                                      <div class="bar-container">
                                          <div class="bar-3"></div>
                                      </div>
                                  </td>
                                  <td class="text-right">10</td>
                              </tr>
                              <tr>
                                  <td class="rating-label">Poor</td>
                                  <td class="rating-bar">
                                      <div class="bar-container">
                                          <div class="bar-2"></div>
                                      </div>
                                  </td>
                                  <td class="text-right">3</td>
                              </tr>
                              <tr>
                                  <td class="rating-label">Terrible</td>
                                  <td class="rating-bar">
                                      <div class="bar-container">
                                          <div class="bar-1"></div>
                                      </div>
                                  </td>
                                  <td class="text-right">0</td>
                              </tr>
                          </table>
                      </div>
                  </div>
              </div>
          </div>
        <div class="card">
            <div class="row text-left d-flex">
                <div class=""> 
                  <img class="profile-pic" [src]="user.profile.profilePicture"> 
                </div>
                <div class="d-flex flex-column">
                    <h3 class="mt-2 mb-0">{{user.profile.firstName}}</h3>
                    <div class="row text-left">
                        <div class="col-md-6"></div> 
                        <app-rating [rating]='currentUserReview?.rating' [itemId]='currentUserReview?.id' (ratingClick)='ratingComponentClick($event)'></app-rating>
                    </div>
                </div>
                <div class=" ml-auto" contenteditable="true">
                    <p class="text-muted pt-5 pt-sm-3">{{currentUserReview?.date}}</p>    
                </div>
            </div>
            <div class="row text-left">
                <h4 id="reviewTitle" class="blue-text mt-3">"{{currentUserReview?.reviewTitle}}"</h4>
                <input type="text" hidden="true" id="reviewTitleInput" [ngModel]="currentUserReview?.reviewTitle" (ngModelChange)='onReviewInputChange($event)'>
                <a id="editReviewTitleButton" (click)="editReviewTitle(currentUserReview)"><i class="fas fa-edit"></i></a>
                <a hidden="true" id="updateReviewTitleButton" (click)="updateReview(currentUserReview)"><i class="fas fa-check"></i></a>
                <a hidden="true" id="discardReviewTitleButton" (click)="discardReviewTitle(currentUserReview)"><i class="fas fa-times"></i></a>
              </div>
            <div class="row text-left">
                <p class="content">{{currentUserReview?.reviewDescription}}</p>
                <input type="text" hidden="true" id="reviewDescInput" [ngModel]="currentUserReview?.reviewDescription" (ngModelChange)='onReviewDescInputChange($event)'>
                <a id="editReviewDescButton" (click)="editReviewDesc(currentUserReview)"><i class="fas fa-edit"></i></a>
                <a hidden="true" id="updateReviewDescButton" (click)="updateReview(currentUserReview)"><i class="fas fa-check"></i></a>
                <a hidden="true" id="discardReviewDescButton" (click)="discardReviewDesc(currentUserReview)"><i class="fas fa-times"></i></a>
            </div>
            <div class="row text-left"> <img class="pic" src="https://i.imgur.com/kjcZcfv.jpg"> <img class="pic" src="https://i.imgur.com/SjBwAgs.jpg"> <img class="pic" src="https://i.imgur.com/IgHpsBh.jpg"> </div>
            <div class="row text-left mt-4">
                <div class="like mr-3 vote"> <img src="https://i.imgur.com/mHSQOaX.png"><span class="blue-text pl-2">{{currentUserReview?.likesCount}}</span> </div>
                <div class="unlike vote"> <img src="https://i.imgur.com/bFBO3J7.png"><span class="text-muted pl-2">{{currentUserReview?.dislikeCount}}</span> </div>
            </div>
        </div>
        <div *ngIf="userReviews.length>0">
        <div *ngFor="let review of userReviews" class="card">
              <div class="row text-left d-flex">
                  <div class=""> <img class="profile-pic" src="review.user.profilePicture"> </div>
                  <div class="d-flex flex-column">
                      <h3 class="mt-2 mb-0">{{review?.user?.profile.firstName}}</h3>
                      <div class="row text-left">
                          <div class="col-md-6"></div> 
                          <app-rating disabled ="true" [rating]='review?.rating'></app-rating>
                      </div>
                  </div>
                  <div class=" ml-auto" contenteditable="true">
                      <p class="text-muted pt-5 pt-sm-3">{{review?.date}}</p>    
                  </div>
              </div>
              <div class="row text-left">
                  <h4 id="reviewTitle" class="blue-text mt-3">"{{review?.reviewTitle}}"</h4>
                  <input type="text" hidden="true" id="reviewTitleInput" [ngModel]="review?.reviewTitle" (ngModelChange)='onReviewInputChange($event)'>
                 </div>
              <div class="row text-left">
                  <p class="content">{{review?.reviewDescription}}</p>
              </div>
              <div class="row text-left"> <img class="pic" src="https://i.imgur.com/kjcZcfv.jpg"> <img class="pic" src="https://i.imgur.com/SjBwAgs.jpg"> <img class="pic" src="https://i.imgur.com/IgHpsBh.jpg"> </div>
              <div class="row text-left mt-4">
                  <div class="like mr-3 vote"> <img src="https://i.imgur.com/mHSQOaX.png"><span class="blue-text pl-2">{{review?.likesCount}}</span> </div>
                  <div class="unlike vote"> <img src="https://i.imgur.com/bFBO3J7.png"><span class="text-muted pl-2">{{review?.dislikeCount}}</span> </div>
              </div>
        </div>
          </div>
      </div>
  </div>
</div>
</div>


<script src="//code.jquery.com/jquery-3.1.1.slim.min.js"></script>
<script src="dist/star-rating.min.js"></script>
